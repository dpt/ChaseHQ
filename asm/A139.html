<!DOCTYPE html>
<html>
<head>
<title>Chase H.Q.: Game status buffer entry at A139</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
</head>
<body class="Asm-g">
<table class="header">
<tr>
<td class="logo"><a href="../index.html">Chase H.Q.</a></td>
<td class="page-header">Game status buffer</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="A0CC.html">A0CC</a>
</td>
<td class="up">Up: <a href="../maps/all.html#41273">Map</a></td>
<td class="next">
Next: <a href="A27A.html">A27A</a>
</td>
</tr>
</table>
<div class="description">A139: Game status buffer entry at A139</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
</div>
</td>
</tr>
<tr>
<td class="asm-label">mode_128k</td>
<td class="address-1"><span id="41273"></span>A139</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">0/1 =&gt; 48K/128K mode</td>
</tr>
<tr>
<td class="asm-label">current_stage_number</td>
<td class="address-1"><span id="41274"></span>A13A</td>
<td class="instruction">DEFB $01</td>
<td class="comment-1" rowspan="1">Current stage number</td>
</tr>
<tr>
<td class="asm-label">start_speech_cycle</td>
<td class="address-1"><span id="41275"></span>A13B</td>
<td class="instruction">DEFB $04</td>
<td class="comment-1" rowspan="1">Used by <a href="8401.html#33828">8424</a>  -- seems to start at 4 then cycle 3/2/1 with each restart of the game, another random factor?</td>
</tr>
<tr>
<td class="asm-label">overtake_bonus</td>
<td class="address-1"><span id="41276"></span>A13C</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Overtake combo bonus counter. BCD. This increases by 2 for each overtake and is reset on a crash.</td>
</tr>
<tr>
<td class="asm-label">credits</td>
<td class="address-1"><span id="41277"></span>A13D</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Number of credits remaining (2 for a new game)</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="41278"></span>
<div class="comments">
<div class="paragraph">
Data copied to $A16D+.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">saved_game_state</td>
<td class="address-1"><span id="41278"></span>A13E</td>
<td class="instruction">DEFB $01</td>
<td class="comment-1" rowspan="1">Copied to var_a16d</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41279"></span>A13F</td>
<td class="instruction">DEFB $64</td>
<td class="comment-1" rowspan="1">Copied to idle_timer</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41280"></span>A140</td>
<td class="instruction">DEFB $FF</td>
<td class="comment-1" rowspan="1">Copied to user_input_mask</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41281"></span>A141</td>
<td class="instruction">DEFB $03</td>
<td class="comment-1" rowspan="1">Copied to turbos</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41282"></span>A142</td>
<td class="instruction">DEFW $0054</td>
<td class="comment-1" rowspan="1">Copied to horizon_level</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41284"></span>A144</td>
<td class="instruction">DEFB $14</td>
<td class="comment-1" rowspan="1">Copied to var_A173</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41285"></span>A145</td>
<td class="instruction">DEFB $FF</td>
<td class="comment-1" rowspan="1">Copied to displayed_gear</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41286"></span>A146</td>
<td class="instruction">DEFB $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF</td>
<td class="comment-1" rowspan="1">Copied to score_digits</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41294"></span>A14E</td>
<td class="instruction">DEFB $0F</td>
<td class="comment-1" rowspan="1">Copied to time_sixteenths</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41295"></span>A14F</td>
<td class="instruction">DEFB $60</td>
<td class="comment-1" rowspan="1">Copied to time_digits</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41296"></span>A150</td>
<td class="instruction">DEFB $FF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41297"></span>A151</td>
<td class="instruction">DEFB $FF,$FF,$FF,$FF</td>
<td class="comment-1" rowspan="1">Copied to distance_digits</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41301"></span>A155</td>
<td class="instruction">DEFB $FF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41302"></span>A156</td>
<td class="instruction">DEFB $01</td>
<td class="comment-1" rowspan="1">Copied to no_objects_counter</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41303"></span>A157</td>
<td class="instruction">DEFW $59BF</td>
<td class="comment-1" rowspan="1">Copied to horizon_attribute</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41305"></span>A159</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Copied to hazards[0].0</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41306"></span>A15A</td>
<td class="instruction">DEFB $64</td>
<td class="comment-1" rowspan="1">Copied to hazards[0].1</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41307"></span>A15B</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Copied to hazards[0].2</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41308"></span>A15C</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Copied to hazards[0].3</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41309"></span>A15D</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Copied to hazards[0].4</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41310"></span>A15E</td>
<td class="instruction">DEFB $47</td>
<td class="comment-1" rowspan="1">Copied to hazards[0].5</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41311"></span>A15F</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Copied to hazards[0].6</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41312"></span>A160</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Copied to hazards[0].7</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41313"></span>A161</td>
<td class="instruction">DEFB $2C</td>
<td class="comment-1" rowspan="1">Copied to hazards[0].8</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41314"></span>A162</td>
<td class="instruction">DEFW $0000</td>
<td class="comment-1" rowspan="1">Copied to hazards[0].9 (car LOD)</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41316"></span>A164</td>
<td class="instruction">DEFW <a href="A637.html">smash_handler</a></td>
<td class="comment-1" rowspan="1">Copied to hazards[0].11 (== smash_handler)</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41318"></span>A166</td>
<td class="instruction">DEFW $003C</td>
<td class="comment-1" rowspan="1">Copied to hazards[0].13 (horz pos)</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41320"></span>A168</td>
<td class="instruction">DEFB $FF</td>
<td class="comment-1" rowspan="1">Copied to hazards[0].15</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41321"></span>A169</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Copied to hazards[0].16</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41322"></span>A16A</td>
<td class="instruction">DEFB $03</td>
<td class="comment-1" rowspan="1">Copied to hazards[0].17</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41323"></span>A16B</td>
<td class="instruction">DEFB $02</td>
<td class="comment-1" rowspan="1">Copied to hazards[0].18</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41324"></span>A16C</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Copied to hazards[0].19</td>
</tr>
<tr>
<td class="asm-label">var_a16d</td>
<td class="address-1"><span id="41325"></span>A16D</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Used by <a href="BB69.html#48182">BC36</a></td>
</tr>
<tr>
<td class="asm-label">idle_timer</td>
<td class="address-1"><span id="41326"></span>A16E</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Idle timer. Counts down from 100. Recommences whenever the hero car is stopped. When it hits zero Raymond will say "LET'S GET MOVIN' MAN!" and it will be reset to 100.</td>
</tr>
<tr>
<td class="asm-label">user_input_mask</td>
<td class="address-1"><span id="41327"></span>A16F</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">User input mask, set to $C0 (Quit+Pause) when perp is fully smashed, or $FF otherwise</td>
</tr>
<tr>
<td class="asm-label">turbos</td>
<td class="address-1"><span id="41328"></span>A170</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Number of turbo boosts remaining (3 for a new game)</td>
</tr>
<tr>
<td class="asm-label">horizon_level</td>
<td class="address-1"><span id="41329"></span>A171</td>
<td class="instruction">DEFW $0000</td>
<td class="comment-1" rowspan="1">seems to be the horizon level, possibly relative (used during attract mode)</td>
</tr>
<tr>
<td class="asm-label">var_A173</td>
<td class="address-1"><span id="41331"></span>A173</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">This is decremented by <a href="8A57.html#35782">8BC6</a> but nothing else seems to read it.</td>
</tr>
<tr>
<td class="asm-label">displayed_gear</td>
<td class="address-1"><span id="41332"></span>A174</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Low/high gear flag.</td>
</tr>
<tr>
<td class="asm-label">score_digits</td>
<td class="address-1"><span id="41333"></span>A175</td>
<td class="instruction">DEFB $00,$00,$00,$00,$00,$00,$00,$00</td>
<td class="comment-1" rowspan="1">Score digits. One digit per byte, least significant first. This seems to be recording what's on screen so digit plotting can be bypassed.</td>
</tr>
<tr>
<td class="asm-label">time_sixteenths</td>
<td class="address-1"><span id="41341"></span>A17D</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Seems to be a 1/16ths second counter. Counts from $F to $0. <a href="A139.html#41342">time_bcd</a> is decremented when it hits zero.</td>
</tr>
<tr>
<td class="asm-label">time_bcd</td>
<td class="address-1"><span id="41342"></span>A17E</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Time remaining. Stored as BCD.</td>
</tr>
<tr>
<td class="asm-label">time_digits</td>
<td class="address-1"><span id="41343"></span>A17F</td>
<td class="instruction">DEFB $00,$00</td>
<td class="comment-1" rowspan="1">Time remaining as displayed. Stored as one digit per byte.</td>
</tr>
<tr>
<td class="asm-label">distance_digits</td>
<td class="address-1"><span id="41345"></span>A181</td>
<td class="instruction">DEFB $00,$00,$00,$00</td>
<td class="comment-1" rowspan="1">Distance as displayed. Stored as one digit per byte.</td>
</tr>
<tr>
<td class="asm-label">no_objects_counter</td>
<td class="address-1"><span id="41349"></span>A185</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">If set causes no objects or hazards to be emitted.</td>
</tr>
<tr>
<td class="asm-label">horizon_attribute</td>
<td class="address-1"><span id="41350"></span>A186</td>
<td class="instruction">DEFW $0000</td>
<td class="comment-1" rowspan="1">Attribute address of horizon. Points to last attribute on the line which shows the ground. (e.g. $59DF)</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="41352"></span>
<div class="comments">
<div class="paragraph">
Table of spawned vehicles and/or objects
</div>
<div class="paragraph">
Each entry is 20 bytes long. The first entry is the perp.
</div>
<div class="paragraph">
Hazard structure layout:
</div>
<div class="paragraph">
+0 is $FF if this hazard is used, $00 otherwise
</div>
<div class="paragraph">
+1 looks distance related
</div>
<div class="paragraph">
+2 TBD
</div>
<div class="paragraph">
+3 TBD
</div>
<div class="paragraph">
+4 TBD
</div>
<div class="paragraph">
+5 TBD
</div>
<div class="paragraph">
+6 TBD
</div>
<div class="paragraph">
+7 byte TBD used by hazard_hit
</div>
<div class="paragraph">
+8 byte gets copied from the hazards table
</div>
<div class="paragraph">
+9 word address of LOD
</div>
<div class="paragraph">
+11 word address of routine
</div>
<div class="paragraph">
+13 word horizontal position, e.g. $190
</div>
<div class="paragraph">
+15 byte TBD used by hazard_hit, counter which gets set to 2 then reduced
</div>
<div class="paragraph">
+16 byte TBD
</div>
<div class="paragraph">
+17 byte TBD used by hazard_hit, indexes table <a href="AC3C.html#44251">table_acdb</a>
</div>
<div class="paragraph">
+18 byte TBD used by hazard_hit
</div>
<div class="paragraph">
+19 byte TBD used by hazard_hit
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">hazard_0</td>
<td class="address-1"><span id="41352"></span>A188</td>
<td class="instruction">DEFS $14</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">hazard_1</td>
<td class="address-1"><span id="41372"></span>A19C</td>
<td class="instruction">DEFS $14</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">hazard_2</td>
<td class="address-1"><span id="41392"></span>A1B0</td>
<td class="instruction">DEFS $14</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">hazard_3</td>
<td class="address-1"><span id="41412"></span>A1C4</td>
<td class="instruction">DEFS $14</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">hazard_4</td>
<td class="address-1"><span id="41432"></span>A1D8</td>
<td class="instruction">DEFS $14</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">hazard_5</td>
<td class="address-1"><span id="41452"></span>A1EC</td>
<td class="instruction">DEFS $14</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="41472"></span>
<div class="comments">
<div class="paragraph">
Unknown - not enough space for another hazard
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41472"></span>A200</td>
<td class="instruction">DEFS $13</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="41491"></span>
<div class="comments">
<div class="paragraph">
AY registers 0..11 [128K]
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">ay_chan_a_pitch</td>
<td class="address-1"><span id="41491"></span>A213</td>
<td class="instruction">DEFW $0000</td>
<td class="comment-1" rowspan="1">0,1: Channel A pitch (fine,course=lo,hi)</td>
</tr>
<tr>
<td class="asm-label">ay_chan_b_pitch</td>
<td class="address-1"><span id="41493"></span>A215</td>
<td class="instruction">DEFW $0000</td>
<td class="comment-1" rowspan="1">2,3: Channel B pitch</td>
</tr>
<tr>
<td class="asm-label">ay_chan_c_pitch</td>
<td class="address-1"><span id="41495"></span>A217</td>
<td class="instruction">DEFW $0000</td>
<td class="comment-1" rowspan="1">4,5: Channel C pitch - used for engine tone?</td>
</tr>
<tr>
<td class="asm-label">ay_noise_pitch</td>
<td class="address-1"><span id="41497"></span>A219</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">6: Noise pitch</td>
</tr>
<tr>
<td class="asm-label">ay_mixer</td>
<td class="address-1"><span id="41498"></span>A21A</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">7: Mixer</td>
</tr>
<tr>
<td class="asm-label">ay_chan_a_vol</td>
<td class="address-1"><span id="41499"></span>A21B</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">8: Channel A volume</td>
</tr>
<tr>
<td class="asm-label">ay_chan_b_vol</td>
<td class="address-1"><span id="41500"></span>A21C</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">9: Channel B volume</td>
</tr>
<tr>
<td class="asm-label">ay_chan_c_vol</td>
<td class="address-1"><span id="41501"></span>A21D</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">10: Channel C volume</td>
</tr>
<tr>
<td class="asm-label">ay_env_fine</td>
<td class="address-1"><span id="41502"></span>A21E</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">11: Envelope fine duration</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="41503"></span>
<div class="comments">
<div class="paragraph">
End of AY registers
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="41503"></span>A21F</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Unused?</td>
</tr>
<tr>
<td class="asm-label">var_a220</td>
<td class="address-1"><span id="41504"></span>A220</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1"><a href="8014.html">load_stage</a> sets this to the level number that it's going to load [but I don't see it using it again]. <a href="858C.html">run_pregame_screen</a> sets it to $F8. <a href="BC3E.html">draw_screen</a> uses it to avoid some work.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="41505"></span>
<div class="comments">
<div class="paragraph">
Affects collision detection on the left hand side.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">inhibit_collision_detection</td>
<td class="address-1"><span id="41505"></span>A221</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1"><a href="AB9A.html#43982">ABCE</a>, <a href="AD0D.html">sub_ad0d</a> reads</td>
</tr>
<tr>
<td class="asm-label">var_a222</td>
<td class="address-1"><span id="41506"></span>A222</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1"><a href="8F5F.html#36762">8F9A</a> reads  <a href="ADA0.html">draw_hazards</a>, <a href="ADA0.html#44675">AE83</a>, <a href="ADA0.html#44865">AF41</a> writes</td>
</tr>
<tr>
<td class="asm-label">displayed_stage</td>
<td class="address-1"><span id="41507"></span>A223</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Stage number as shown on the scoreboard. Stored as ASCII.</td>
</tr>
<tr>
<td class="asm-label">helicopter_control</td>
<td class="address-1"><span id="41508"></span>A224</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Set to 1 -&gt; helicopter moves out to the left, gets set to zero. Set to 3/4 -&gt; Helicopter moves in from left, gets set to five. <a href="AAC6.html">move_helicopter</a>, <a href="AB33.html">helicopter</a> reads  <a href="AB33.html#43926">AB96</a>, <a href="BDFB.html#49171">C013</a> writes</td>
</tr>
<tr>
<td class="asm-label">stop_car_spawning</td>
<td class="address-1"><span id="41509"></span>A225</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Inhibits cars from spawning.</td>
</tr>
<tr>
<td class="asm-label">correct_fork</td>
<td class="address-1"><span id="41510"></span>A226</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Holds the correct direction to take at forks (1 =&gt; left, 2 =&gt; right).</td>
</tr>
<tr>
<td class="asm-label">floating_arrow</td>
<td class="address-1"><span id="41511"></span>A227</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Shows the floating left/right arrow (0 =&gt; off, 1 =&gt; left, 2 =&gt; right).</td>
</tr>
<tr>
<td class="asm-label">var_a228</td>
<td class="address-1"><span id="41512"></span>A228</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1"><a href="B318.html#46113">B421</a> reads  <a href="B318.html#46280">B4C8</a> writes</td>
</tr>
<tr>
<td class="asm-label">time_up_state</td>
<td class="address-1"><span id="41513"></span>A229</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">1 =&gt; out of time, 2 =&gt; "TIME UP" message is printed; 3 =&gt; "CONTINUE THIS MISSION" message is printed and a countdown runs 4 =&gt; countdown elapsed; 0 otherwise</td>
</tr>
<tr>
<td class="asm-label">var_a22a</td>
<td class="address-1"><span id="41514"></span>A22A</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Used by <a href="B67C.html#46806">sub_b67c_3</a> and others</td>
</tr>
<tr>
<td class="asm-label">allow_overtake_bonus</td>
<td class="address-1"><span id="41515"></span>A22B</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Enables overtake bonus. Used by <a href="9D2E.html">calc_overtake_bonus</a> and others.</td>
</tr>
<tr>
<td class="asm-label">trigger_bonus_flag</td>
<td class="address-1"><span id="41516"></span>A22C</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Bonus flag (1 triggers the effect)</td>
</tr>
<tr>
<td class="asm-label">bonus_counter</td>
<td class="address-1"><span id="41517"></span>A22D</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Counter for bonus flash effect (counts 8..0)</td>
</tr>
<tr>
<td class="asm-label">sighted_flag</td>
<td class="address-1"><span id="41518"></span>A22E</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Set to 1 when the perp has been sighted. Enables flashing lights and the smash bar.</td>
</tr>
<tr>
<td class="asm-label">var_a22f</td>
<td class="address-1"><span id="41519"></span>A22F</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Set to 2 by fully_smashed</td>
</tr>
<tr>
<td class="asm-label">perp_caught_stage</td>
<td class="address-1"><span id="41520"></span>A230</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Set to &gt; 0 by fully_smashed when the perp has been caught. <a href="8A57.html">handle_perp_caught</a> progresses this through stages 1..6 until the cars are slowed to a halt and the bonuses are printed. Used by draw_screen. Seems to inhibit car spawning too.</td>
</tr>
<tr>
<td class="asm-label">transition_control</td>
<td class="address-1"><span id="41521"></span>A231</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Transition control/counter. Set to zero when fill_attributes has run. Set to 4 while transitioning. Also 2 sometimes. Set to 1 when the perp has been caught and we're drawing mugshots.</td>
</tr>
<tr>
<td class="asm-label">smash_factor</td>
<td class="address-1"><span id="41522"></span>A232</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Set to 0..6 if (0..3, 4..6, 7..10, 11..13, 14..16, 17+) smashes</td>
</tr>
<tr>
<td class="asm-label">smash_counter</td>
<td class="address-1"><span id="41523"></span>A233</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Smash counter (0..20)</td>
</tr>
<tr>
<td class="asm-label">counter_A</td>
<td class="address-1"><span id="41524"></span>A234</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Cycles 0-1-2-3 as the game runs (used to animate turbo smoke CHECK)</td>
</tr>
<tr>
<td class="asm-label">counter_B</td>
<td class="address-1"><span id="41525"></span>A235</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Cycles 0-1 as the game runs (used to toggle flash the red/blue lights)</td>
</tr>
<tr>
<td class="asm-label">counter_C</td>
<td class="address-1"><span id="41526"></span>A236</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Cycles 0-1-2-3 as the game runs - at half rate</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="41527"></span>
<div class="comments">
<div class="paragraph">
These seem to get altered even when no sound is being produced.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">sfx_0</td>
<td class="address-1"><span id="41527"></span>A237</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Used by <a href="88F2.html">start_sfx</a></td>
</tr>
<tr>
<td class="asm-label">sfx_1</td>
<td class="address-1"><span id="41528"></span>A238</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Used by <a href="88F2.html">start_sfx</a></td>
</tr>
<tr>
<td class="asm-label">var_a239</td>
<td class="address-1"><span id="41529"></span>A239</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Used by <a href="F220.html#62053">F265</a> [128K]  Siren related.</td>
</tr>
<tr>
<td class="asm-label">var_a23a</td>
<td class="address-1"><span id="41530"></span>A23A</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Used by <a href="F220.html#62198">F2F6</a> [128K]  Copy of noise pitch.</td>
</tr>
<tr>
<td class="asm-label">tunnel_sfx</td>
<td class="address-1"><span id="41531"></span>A23B</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Set to 5 when we're in a tunnel. Used to modulate sfx.</td>
</tr>
<tr>
<td class="asm-label">var_a23c</td>
<td class="address-1"><span id="41532"></span>A23C</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1"><a href="8903.html#35081">8909</a>, <a href="BDFB.html#48680">BE28</a> reads  <a href="A399.html#41978">check_collisions_2</a>, <a href="BDFB.html#48639">BDFF</a>, <a href="BDFB.html#48684">BE2C</a> writes</td>
</tr>
<tr>
<td class="asm-label">var_a23d</td>
<td class="address-1"><span id="41533"></span>A23D</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1"><a href="BDFB.html#48691">BE33</a> reads  <a href="8903.html#35087">890F</a>, <a href="A399.html#41938">A3D2</a>, <a href="BDFB.html#48636">BDFC</a>, <a href="BDFB.html#48695">BE37</a> writes</td>
</tr>
<tr>
<td class="asm-label">off_road</td>
<td class="address-1"><span id="41534"></span>A23E</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">0 =&gt; Fully on-road, 1 =&gt; One wheel off-road, 2 =&gt; Both wheels off-road [samples: <a href="B063.html#45316">B104</a>, <a href="B318.html#46092">B40C</a> reads  <a href="A399.html#41981">cc_split_set</a>, <a href="A399.html#42282">cc_not_split_set</a>, <a href="B063.html#45181">B07D</a>, <a href="B318.html#45858">B322</a>, <a href="B318.html#46084">B404</a>, <a href="B318.html#46147">B443</a> writes]</td>
</tr>
<tr>
<td class="asm-label">fast_counter</td>
<td class="address-1"><span id="41535"></span>A23F</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">This is a very fast counter related to level position. Typically the top three bits are masked off and used to index other tables.</td>
</tr>
<tr>
<td class="asm-label">road_buffer_offset</td>
<td class="address-1"><span id="41536"></span>A240</td>
<td class="instruction">DEFW $0000</td>
<td class="comment-1" rowspan="1">Current offset (in bytes) into the road buffer at $EE00..$EEFF. Much of the code treats this as a byte. Used by <a href="B8D2.html#47350">sub_b8d2_2</a>, <a href="BB69.html#48119">BBF7</a>, <a href="87DC.html#34784">87E0</a>.</td>
</tr>
<tr>
<td class="asm-label">curvature_byte</td>
<td class="address-1"><span id="41538"></span>A242</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Current curvature byte (minus 16) [<a href="BDFB.html#48702">BE3E</a> reads <a href="BB69.html#48151">BC17</a>,<a href="BDFB.html#48765">rm_save_curvature_byte</a> writes]</td>
</tr>
<tr>
<td class="asm-label">height_byte</td>
<td class="address-1"><span id="41539"></span>A243</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Current height byte (minus 16) [<a href="BDFB.html#48784">BE90</a> reads <a href="BB69.html#48154">BC1A</a>,<a href="BDFB.html#48847">rm_save_height_byte</a> writes]</td>
</tr>
<tr>
<td class="asm-label">leftside_byte</td>
<td class="address-1"><span id="41540"></span>A244</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">[<a href="BDFB.html#49054">BF9E</a> reads <a href="BB69.html#48157">BC1D</a>,<a href="BDFB.html#49117">rm_leftside_count_resume</a> writes]</td>
</tr>
<tr>
<td class="asm-label">rightside_byte</td>
<td class="address-1"><span id="41541"></span>A245</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Current rightside byte [<a href="BDFB.html#48981">rm_rightside</a> reads <a href="BB69.html#48160">BC20</a>,<a href="BDFB.html#49044">rm_rightside_count_resume</a> writes]</td>
</tr>
<tr>
<td class="asm-label">hazards_byte</td>
<td class="address-1"><span id="41542"></span>A246</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Current hazards byte (minus one) [<a href="BDFB.html#49127">BFE7</a> reads <a href="BB69.html#48163">BC23</a>,<a href="BDFB.html#49237">rm_no_hazards</a> writes]</td>
</tr>
<tr>
<td class="asm-label">lanes_counter_byte</td>
<td class="address-1"><span id="41543"></span>A247</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">[<a href="BDFB.html#48859">BEDB</a> reads <a href="BB69.html#48166">BC26</a>,<a href="BDFB.html#48917">BF15</a>,<a href="BDFB.html#48937">rm_lanes_count_resume</a> writes]</td>
</tr>
<tr>
<td class="asm-label">var_a248</td>
<td class="address-1"><span id="41544"></span>A248</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">[<a href="A955.html">main_loop_18</a> reads <a href="C452.html#50263">C457</a>,<a href="C452.html#50470">main_loop_13_8</a> writes]</td>
</tr>
<tr>
<td class="asm-label">fork_taken</td>
<td class="address-1"><span id="41545"></span>A249</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Set to 0 if no fork, or the left fork was taken, or 1 if the right fork was taken. [$A539,$B988,$BAE0,$BB6E reads <a href="B9F4.html#47753">main_loop_12_5</a>,<a href="BB69.html#48172">BC2C</a> writes]</td>
</tr>
<tr>
<td class="asm-label">speed</td>
<td class="address-1"><span id="41546"></span>A24A</td>
<td class="instruction">DEFW $0000</td>
<td class="comment-1" rowspan="1">Speed (0..511). Max when in lo gear =~ $E6, hi gear =~ $168, turbo =~ $1FF.</td>
</tr>
<tr>
<td class="asm-label">var_a24c</td>
<td class="address-1"><span id="41548"></span>A24C</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1"><a href="B063.html#45495">move_hero_car_14</a> reads  <a href="B063.html#45540">move_hero_car_17</a> writes</td>
</tr>
<tr>
<td class="asm-label">cornering</td>
<td class="address-1"><span id="41549"></span>A24D</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Likely a cornering force flag. Used to trigger smoke. <a href="B318.html#46004">B3B4</a>, <a href="B318.html#46130">B432</a> reads  <a href="B063.html#45797">move_hero_car_38</a>, <a href="B063.html#45844">B314</a>, <a href="B318.html#45866">B32A</a> writes</td>
</tr>
<tr>
<td class="asm-label">boost</td>
<td class="address-1"><span id="41550"></span>A24E</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Turbo boost time remaining (60..0)</td>
</tr>
<tr>
<td class="asm-label">smoke</td>
<td class="address-1"><span id="41551"></span>A24F</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Smoke time remaining. This is set to 4 on low-to-high gear changes and to 3 when the hero car lands after a jump. This isn't set for turbo boosts however.</td>
</tr>
<tr>
<td class="asm-label">turn_speed</td>
<td class="address-1"><span id="41552"></span>A250</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Turn speed (0/1/2) ignoring direction</td>
</tr>
<tr>
<td class="asm-label">flip</td>
<td class="address-1"><span id="41553"></span>A251</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">1 =&gt; Horizontally flip the hero car, 0 =&gt; Don't</td>
</tr>
<tr>
<td class="asm-label">var_a252</td>
<td class="address-1"><span id="41554"></span>A252</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">gear</td>
<td class="address-1"><span id="41555"></span>A253</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">0 =&gt; Low gear, 1 =&gt; High gear</td>
</tr>
<tr>
<td class="asm-label">another_spawning_flag</td>
<td class="address-1"><span id="41556"></span>A254</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Cleared by <a href="87DC.html#34891">884B</a>   suspected spawning flag (different to flag <a href="A139.html#41509">stop_car_spawning</a>)</td>
</tr>
<tr>
<td class="asm-label">distance_bcd</td>
<td class="address-1"><span id="41557"></span>A255</td>
<td class="instruction">DEFB $00,$00</td>
<td class="comment-1" rowspan="1">Distance as BCD (2 bytes / 4 digits, little endian)</td>
</tr>
<tr>
<td class="asm-label">var_a257</td>
<td class="address-1"><span id="41559"></span>A257</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Unused</td>
</tr>
<tr>
<td class="asm-label">var_a258</td>
<td class="address-1"><span id="41560"></span>A258</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Used by <a href="B8D2.html#47320">B8D8</a></td>
</tr>
<tr>
<td class="asm-label">var_a259</td>
<td class="address-1"><span id="41561"></span>A259</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Used by <a href="B8D2.html#47403">B92B</a></td>
</tr>
<tr>
<td class="asm-label">var_a25a</td>
<td class="address-1"><span id="41562"></span>A25A</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Used by <a href="B8D2.html">sub_b8d2</a></td>
</tr>
<tr>
<td class="asm-label">var_a25b</td>
<td class="address-1"><span id="41563"></span>A25B</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="41564"></span>
<div class="comments">
<div class="paragraph">
Horizon horizontal scrolling (+ve for left, -ve for right). Seems to be multiples of two. Values seen: FA FC FE 00 02 04 06
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">horizon_scroll</td>
<td class="address-1"><span id="41564"></span>A25C</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Used by <a href="B848.html#47182">B84E</a></td>
</tr>
<tr>
<td class="asm-label">var_a25d</td>
<td class="address-1"><span id="41565"></span>A25D</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Used by <a href="B848.html#47197">B85D</a></td>
</tr>
<tr>
<td class="asm-label">var_a25e</td>
<td class="address-1"><span id="41566"></span>A25E</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">var_a25f</td>
<td class="address-1"><span id="41567"></span>A25F</td>
<td class="instruction">DEFW $0000</td>
<td class="comment-1" rowspan="1">Used by <a href="B063.html#45722">move_hero_car_32</a></td>
</tr>
<tr>
<td class="asm-label">var_a261</td>
<td class="address-1"><span id="41569"></span>A261</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Used by <a href="B063.html#45719">B297</a></td>
</tr>
<tr>
<td class="asm-label">var_a262</td>
<td class="address-1"><span id="41570"></span>A262</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">var_a263</td>
<td class="address-1"><span id="41571"></span>A263</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Used by <a href="B063.html#45742">B2AE</a></td>
</tr>
<tr>
<td class="asm-label">var_a264</td>
<td class="address-1"><span id="41572"></span>A264</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Used by <a href="B063.html#45746">B2B2</a> -- together might be a 16-bit qty</td>
</tr>
<tr>
<td class="asm-label">split_road</td>
<td class="address-1"><span id="41573"></span>A265</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Used by <a href="BB69.html#48172">BC2C</a> -- set to $60 when the split road becomes visible, zero otherwise</td>
</tr>
<tr>
<td class="asm-label">split_road_countdown</td>
<td class="address-1"><span id="41574"></span>A266</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Used by <a href="A399.html#41894">A3A6</a> -- counts down (from 16?) when the split road approaches, zero when the split actually starts</td>
</tr>
<tr>
<td class="asm-label">var_a267</td>
<td class="address-1"><span id="41575"></span>A267</td>
<td class="instruction">DEFW $0000</td>
<td class="comment-1" rowspan="1">Used by <a href="BB69.html#48185">BC39</a> -- as 16-bit. Part used by <a href="BB69.html">road_handling_setup</a> - skips routine if not set</td>
</tr>
<tr>
<td class="asm-label">var_a269</td>
<td class="address-1"><span id="41577"></span>A269</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Used by <a href="BB69.html#48169">BC29</a></td>
</tr>
<tr>
<td class="asm-label">quit_state</td>
<td class="address-1"><span id="41578"></span>A26A</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">0 if not quitting, or 1/2 depending on quit state</td>
</tr>
<tr>
<td class="asm-label">start_speech</td>
<td class="address-1"><span id="41579"></span>A26B</td>
<td class="instruction">DEFB $00</td>
<td class="comment-1" rowspan="1">Used by <a href="8401.html#33842">8432</a> - index of speech sample to play</td>
</tr>
<tr>
<td class="asm-label">road_pos</td>
<td class="address-1"><span id="41580"></span>A26C</td>
<td class="instruction">DEFW $0000</td>
<td class="comment-1" rowspan="1">Road position of car. Left..Right = $1E2...$03A, $105 is centre.</td>
</tr>
<tr>
<td class="asm-label">road_curvature_ptr</td>
<td class="address-1"><span id="41582"></span>A26E</td>
<td class="instruction">DEFW $0000</td>
<td class="comment-1" rowspan="1">Address of the previous curvature data byte</td>
</tr>
<tr>
<td class="asm-label">road_height_ptr</td>
<td class="address-1"><span id="41584"></span>A270</td>
<td class="instruction">DEFW $0000</td>
<td class="comment-1" rowspan="1">Address of the previous height data byte</td>
</tr>
<tr>
<td class="asm-label">road_lanes_ptr</td>
<td class="address-1"><span id="41586"></span>A272</td>
<td class="instruction">DEFW $0000</td>
<td class="comment-1" rowspan="1">Address of the previous lane data byte</td>
</tr>
<tr>
<td class="asm-label">road_rightside_ptr</td>
<td class="address-1"><span id="41588"></span>A274</td>
<td class="instruction">DEFW $0000</td>
<td class="comment-1" rowspan="1">Address of the previous right object data byte</td>
</tr>
<tr>
<td class="asm-label">road_leftside_ptr</td>
<td class="address-1"><span id="41590"></span>A276</td>
<td class="instruction">DEFW $0000</td>
<td class="comment-1" rowspan="1">Address of the previous left object data byte</td>
</tr>
<tr>
<td class="asm-label">road_hazard_ptr</td>
<td class="address-1"><span id="41592"></span>A278</td>
<td class="instruction">DEFW $0000</td>
<td class="comment-1" rowspan="1">Address of the previous hazard object data byte</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="A0CC.html">A0CC</a>
</td>
<td class="up">Up: <a href="../maps/all.html#41273">Map</a></td>
<td class="next">
Next: <a href="A27A.html">A27A</a>
</td>
</tr>
</table>
<footer>
<div class="release">The incomplete Chase H.Q. disassembly 20231102</div>
<div class="copyright">&copy; 1988 Taito Corporation &copy; 1989 Ocean Software Ltd. (Chase H.Q.) Â© 2023 David Thomas (this disassembly)</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.9.</div>
</footer>
</body>
</html>